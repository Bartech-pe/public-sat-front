<div class="flex flex-wrap items-center gap-2 p-2">
  <!-- ðŸŽ¤ MicrÃ³fono -->
  <button type="button"
          (click)="startRecording()"
          class="text-gray-500 hover:text-indigo-600 bg-gray-100 hover:bg-gray-50 rounded-full p-2 transition">
    <iconify-icon icon="material-symbols:mic" width="18"></iconify-icon>
  </button>

  <!-- ðŸ˜Š Emoji -->
  <button type="button"
          (click)="emojiPopover.toggle($event)"
          class="text-gray-500 hover:text-green-500 bg-gray-100 hover:bg-gray-50 rounded-full p-2 transition">
    <iconify-icon icon="twemoji:smiling-face-with-smiling-eyes" width="18"></iconify-icon>
  </button>

  <!-- ðŸ“Ž Archivo -->
  <label class="cursor-pointer text-gray-500 hover:text-indigo-500 bg-gray-100 hover:bg-gray-50 rounded-full p-2 transition">
    <iconify-icon icon="material-symbols:attach-file" width="18"></iconify-icon>
    <input type="file" hidden (change)="onFileSelected($event)" />
  </label>

  <!-- Input y enviar -->
  <div class="flex items-center flex-1 gap-2 min-w-[200px]">
    <input
        pInputText
        [(ngModel)]="message"
        (keydown)="onKeyDown($event)"
        placeholder="Escribe un mensaje..."
        class="w-full border border-slate-200 rounded-full px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"
    />
    <button type="button"
            (click)="onSend()"
            class="text-white bg-[#0069a8] hover:bg-[#005b94] pt-2 pl-2 pr-2 rounded transition">
      <iconify-icon icon="material-symbols:send-rounded" width="20"></iconify-icon>
    </button>
  </div>
</div>


<p-popover #emojiPopover [styleClass]="'p-4 bg-white !rounded-xl !shadow-xl border border-gray-200 h-[400px]  overflow-y-auto'">
      <emoji-mart  (emojiSelect)="onEmojiSelect($event)"></emoji-mart>
</p-popover>
