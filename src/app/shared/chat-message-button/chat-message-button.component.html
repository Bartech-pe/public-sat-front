<div class="bg-blue-50 w-full h-full flex items-center gap-2 px-3 py-2">
  <!-- ðŸŽ¤ MicrÃ³fono -->
  <button
    type="button"
    (click)="startRecording()"
    class="w-9 h-9 flex items-center justify-center text-gray-500 hover:text-indigo-600 transition rounded-full hover:bg-indigo-100 hover:text-indigo-600 
         active:bg-indigo-200"
  >
    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 1024 1024">
      <path fill="#373737" d="M512 624c93.9 0 170-75.2 170-168V232c0-92.8-76.1-168-170-168s-170 75.2-170 168v224c0 92.8 76.1 168 170 168m330-170c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8c0 140.3-113.7 254-254 254S258 594.3 258 454c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8c0 168.7 126.6 307.9 290 327.6V884H326.7c-13.7 0-24.7 14.3-24.7 32v36c0 4.4 2.8 8 6.2 8h407.6c3.4 0 6.2-3.6 6.2-8v-36c0-17.7-11-32-24.7-32H548V782.1c165.3-18 294-158 294-328.1" />
    </svg>
  </button>

  <!-- ðŸ˜Š Emoji -->
  <button
    type="button"
    (click)="emojiPopover.toggle($event)"
    class="w-9 h-9 flex items-center justify-center text-gray-500 hover:text-orange-500 transition rounded-full hover:bg-orange-100 hover:text-orange-500 
         active:bg-orange-200"
  >
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
      <g fill="none">
        <path d="m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z" />
        <path fill="#373737" d="M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12S6.477 2 12 2m3.167 10H8.833c-.962 0-1.75.74-1.827 1.683l-.006.15V14a5 5 0 0 0 9.995.217L17 14v-.167c0-.962-.74-1.75-1.683-1.827zM15 14a3 3 0 0 1-5.995.176L9 14zM9 6a1 1 0 0 0-1 1v2a1 1 0 0 0 2 0V7a1 1 0 0 0-1-1m5.293.293l-1 1a1 1 0 0 0 0 1.414l1 1a1 1 0 0 0 1.414-1.414L15.414 8l.293-.293a1 1 0 0 0-1.414-1.414" />
      </g>
    </svg>
  </button>

  <!-- ðŸ“Ž Archivo -->
  <label
    class="w-9 h-9 flex items-center justify-center cursor-pointer text-gray-500 hover:text-indigo-500 transition rounded-full hover:bg-indigo-100 hover:text-indigo-500 
         active:bg-indigo-200"
  >
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
      <path fill="#373737" d="m12 18l4-4l-1.4-1.4l-1.6 1.6V10h-2v4.2l-1.6-1.6L8 14zm-7 3q-.825 0-1.412-.587T3 19V6.525q0-.35.113-.675t.337-.6L4.7 3.725q.275-.35.687-.538T6.25 3h11.5q.45 0 .863.188t.687.537l1.25 1.525q.225.275.338.6t.112.675V19q0 .825-.587 1.413T19 21zm.4-15h13.2l-.85-1H6.25z" />
    </svg>
    <input type="file" hidden (change)="onFileSelected($event)" />
  </label>

  <!-- ðŸ“ Input de texto -->
    <textarea
    [(ngModel)]="message"
    maxlength="250"
    (input)="autoResize($event)"
    (keydown)="onKeyDown($event)"
    placeholder="Mensaje"
    class="flex-1 px-4 py-3 placeholder:text-gray-400 text-sm rounded-full bg-white focus:outline-none focus:ring-2 focus:ring-blue-300 focus:bg-white-200 transition resize-none overflow-y-auto max-h-32"
    rows="1"
  ></textarea>
  
  <!-- ðŸš€ Enviar -->
  <button
    type="button"
    (click)="onSend()"
    class="bg-[#375f95] hover:bg-blue-400 text-white rounded-full pl-3 pr-3 pt-2 transition"
  >
    <iconify-icon icon="material-symbols:send-rounded" width="22"></iconify-icon>
  </button>
</div>

<!-- Emoji Picker -->
<p-popover #emojiPopover [styleClass]="'p-4 bg-white rounded-xl shadow-xl border border-gray-200 h-[400px] overflow-y-auto'">
  <emoji-mart (emojiSelect)="onEmojiSelect($event)"></emoji-mart>
</p-popover>
